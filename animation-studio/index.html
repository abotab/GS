<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ุงุณุชูุฏูู ุงูุฑุณูู ุงููุชุญุฑูุฉ - Animation Studio</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.3.2/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/Draggable.min.js"></script>
</head>
<body>
    <div id="app">
        <!-- ุงูุดุฑูุท ุงูุนููู -->
        <header class="top-bar">
            <div class="logo">๐ฌ ุงุณุชูุฏูู ุงูุฑุณูู ุงููุชุญุฑูุฉ</div>
            <nav class="main-nav">
                <button class="nav-btn active" data-page="assembly">ุชุฌููุน ุงูุดุฎุตูุฉ</button>
                <button class="nav-btn" data-page="animation">ุงูุชุญุฑูู</button>
                <button class="nav-btn" data-page="timeline">ุงูุชุงูููุงูู</button>
            </nav>
            <div class="top-actions">
                <button class="action-btn" id="saveBtn">๐พ ุญูุธ</button>
                <button class="action-btn" id="exportBtn">๐ค ุชุตุฏูุฑ</button>
                <button class="action-btn" id="undoBtn">โฉ๏ธ ุชุฑุงุฌุน</button>
                <button class="action-btn" id="redoBtn">โช๏ธ ุฅุนุงุฏุฉ</button>
            </div>
        </header>

        <!-- ุงููุญุชูู ุงูุฑุฆูุณู -->
        <main class="main-content">
            <!-- ุตูุญุฉ ุชุฌููุน ุงูุดุฎุตูุฉ -->
            <section id="assembly-page" class="page active">
                <div class="assembly-panel">
                    <h2>๐งฉ ุชุฌููุน ุงูุดุฎุตูุฉ</h2>
                    <div class="parts-library">
                        <h3>ููุชุจุฉ ุงูุฃุฌุฒุงุก</h3>
                        <div class="parts-grid">
                            <div class="part-item" data-part="head">
                                <div class="part-preview">๐ค</div>
                                <span>ุงูุฑุฃุณ</span>
                            </div>
                            <div class="part-item" data-part="body">
                                <div class="part-preview">๐</div>
                                <span>ุงูุฌุณู</span>
                            </div>
                            <div class="part-item" data-part="rightArm">
                                <div class="part-preview">๐ช</div>
                                <span>ุงููุฏ ุงููููู</span>
                            </div>
                            <div class="part-item" data-part="leftArm">
                                <div class="part-preview">๐ช</div>
                                <span>ุงููุฏ ุงููุณุฑู</span>
                            </div>
                            <div class="part-item" data-part="rightLeg">
                                <div class="part-preview">๐ฆต</div>
                                <span>ุงูุฑุฌู ุงููููู</span>
                            </div>
                            <div class="part-item" data-part="leftLeg">
                                <div class="part-preview">๐ฆต</div>
                                <span>ุงูุฑุฌู ุงููุณุฑู</span>
                            </div>
                        </div>
                    </div>
                    <div class="character-preview" id="assemblyCanvas">
                        <div class="canvas-placeholder">
                            <p>ุงุณุญุจ ุงูุฃุฌุฒุงุก ููุง ูุชุฌููุน ุงูุดุฎุตูุฉ</p>
                        </div>
                    </div>
                    <div class="assembly-controls">
                        <button class="control-btn" id="clearCharacter">๐๏ธ ูุณุญ</button>
                        <button class="control-btn primary" id="saveCharacter">โ ุญูุธ ุงูุดุฎุตูุฉ</button>
                    </div>
                </div>
            </section>

            <!-- ุตูุญุฉ ุงูุชุญุฑูู -->
            <section id="animation-page" class="page">
                <div class="workspace">
                    <!-- ุงูุดุฑูุท ุงูุฌุงูุจู ููุฃุฏูุงุช -->
                    <aside class="tools-panel">
                        <div class="tool-section">
                            <h3>๐๏ธ ุงูุฃุฏูุงุช</h3>
                            <div class="tool-grid">
                                <button class="tool-btn active" data-tool="select">
                                    <span class="tool-icon">๐</span>
                                    <span>ุชุญุฏูุฏ</span>
                                </button>
                                <button class="tool-btn" data-tool="bone">
                                    <span class="tool-icon">๐ฆด</span>
                                    <span>ุนุธูุฉ</span>
                                </button>
                                <button class="tool-btn" data-tool="fk">
                                    <span class="tool-icon">๐</span>
                                    <span>FK</span>
                                </button>
                                <button class="tool-btn" data-tool="ik">
                                    <span class="tool-icon">๐ฏ</span>
                                    <span>IK</span>
                                </button>
                                <button class="tool-btn" data-tool="draw">
                                    <span class="tool-icon">โ๏ธ</span>
                                    <span>ุฑุณู</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="tool-section">
                            <h3>โ๏ธ ุฎุตุงุฆุต ุงูุนุธุงู</h3>
                            <div class="properties">
                                <label>ุงูุทูู: <input type="range" id="boneLength" min="10" max="200" value="50"></label>
                                <label>ุงูุณููู: <input type="range" id="boneThickness" min="1" max="10" value="3"></label>
                                <label>ุงูููู: <input type="color" id="boneColor" value="#00ff88"></label>
                            </div>
                        </div>

                        <div class="tool-section">
                            <h3>๐ ุงูุทุจูุงุช</h3>
                            <div class="layers-list" id="layersList">
                                <div class="layer-item active">
                                    <span class="layer-visibility">๐๏ธ</span>
                                    <span class="layer-name">ุงูุดุฎุตูุฉ ุงูุฑุฆูุณูุฉ</span>
                                </div>
                            </div>
                        </div>
                    </aside>

                    <!-- ููุทูุฉ ุงูุฑุณู -->
                    <div class="canvas-area">
                        <div class="canvas-container" id="mainCanvas"></div>
                        <div class="canvas-controls">
                            <button class="canvas-control" id="zoomIn">๐+</button>
                            <button class="canvas-control" id="zoomOut">๐-</button>
                            <button class="canvas-control" id="resetView">โ</button>
                            <button class="canvas-control" id="toggleGrid">โ</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ุตูุญุฉ ุงูุชุงูู ูุงูู -->
            <section id="timeline-page" class="page">
                <div class="timeline-workspace">
                    <div class="timeline-header">
                        <div class="transport-controls">
                            <button class="transport-btn" id="goToStart">โฎ๏ธ</button>
                            <button class="transport-btn" id="playPause">โถ๏ธ</button>
                            <button class="transport-btn" id="goToEnd">โญ๏ธ</button>
                            <button class="transport-btn" id="loopToggle">๐</button>
                        </div>
                        <div class="frame-info">
                            <span>ุงููุฑูู: <input type="number" id="currentFrame" value="1" min="1" max="300"> / 300</span>
                            <span>FPS: <input type="number" id="fps" value="24" min="1" max="60"></span>
                        </div>
                        <div class="timeline-options">
                            <label><input type="checkbox" id="onionSkin"> Onion Skin</label>
                            <label><input type="checkbox" id="snapToFrames"> ูุญุงุฐุงุฉ ูููุฑููุงุช</label>
                        </div>
                    </div>
                    
                    <div class="timeline-container">
                        <div class="timeline-tracks" id="timelineTracks">
                            <!-- ุณูุชู ุฅูุดุงุก ุงููุณุงุฑุงุช ุฏููุงููููุงู -->
                        </div>
                        <div class="timeline-ruler" id="timelineRuler"></div>
                    </div>
                </div>
            </section>
        </main>

        <!-- ุดุฑูุท ุงูุญุงูุฉ -->
        <footer class="status-bar">
            <span id="statusText">ุฌุงูุฒ</span>
            <span id="coords">X: 0, Y: 0</span>
            <span id="zoomLevel">100%</span>
        </footer>
    </div>

    <!-- ูุงูุฐุฉ ุญูุธ/ูุชุญ -->
    <div class="modal" id="saveModal">
        <div class="modal-content">
            <h3>ุญูุธ ุงููุดุฑูุน</h3>
            <input type="text" id="projectName" placeholder="ุงุณู ุงููุดุฑูุน">
            <div class="modal-actions">
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
                <button class="btn-primary" id="confirmSave">ุญูุธ</button>
            </div>
        </div>
    </div>

    <script src="engine.js"></script>
    <script src="bones.js"></script>
    <script src="timeline.js"></script>
    <script src="main.js"></script>
</body>
</html>